=pod

=head1 NAME

MANochrome
- CSS and Javascript for HTML generated by L<pod2html(1)>.

manopod2html
- Converts F<.pod> files to F<.html> files with MANochrome included.

=head1 SYNOPSIS

B<manopod2html> B<-t> theme [B<-i> input_file] B<-o> output_file [B<-f>]

=head1 DESCRIPTION

The goal is to present information in a man page like style with some
appeal to the eye. The I<dark> theme comes closest to that goal.
The I<monk> theme deviates a bit from the initially monochrome style while
still being simple and giving a pleasant reading experience. It's inspired
by L<https://perlmonks.org>.

While the intention is mainly to convert F<.pod> files, it is also possible to
convert man pages. For further information, please see the L<"EXAMPLES">
section.

Nicely formatted F<.pod> files work best and look great.

=head2 MANochrome

A set of cascading stylesheets (themes) and some Javascript which is
explained in the following sections.

=head3 Themes

can be included in the <head> of an HTML file and will change the
look of the HTML page. 
They can be used in any HTML file but are intended to be used with HTML
generated by L<pod2html(1)>.

Available themes are

  light
  dark
  monk

=head3 Javascript

is optional but must be inserted before the closing C<body> tag.

=head3 class MANochrome

The parent class, it is not initialized.

=head3 class MANochrome_pod

creates a sidebar with a fixed index where a link to the corresponding
section is B<highlighted> when B<scrolling> through the page or when
B<clicked>.
An Index must be present in the HTML for this to work. L<pod2html(1)>
generates an index by default. Said index is an unordered list (C<<ul>>) with
the C<id> C<"index">.

The class must be initialized with some
Javascript after F<js/manochrome.js> was included.

  const manochrome = new MANochrome_pod();

=head3 options

When initializing with C<new MANochrome_pod()> an I<options> object
can can be passed. This must be adjusted manually but is very easy. 
Take a look at F<js/init.js>, L<"manopod2html"> inserts the content of this
file inside a script tag below the closing body tag.

=over 4

=item B<logo_path> <string>

A path or URL to the image.

=item B<links> <array>

An array of objects like:

    "links": [
      {
        "url": "https://github.com/medecaj/manochrome.git",
        "html": "<img src=\"img/github-mark-white.svg\""> Repo"
      },
      {
        "url": "https://perl.org",
        "html": "perl.org"
      },
      {
        "url": "https://perlmonks.org",
        "html": "perlmonks.org"
      }
    ]

=back

L<"manopod2html"> can do all of this for you.

=head2 manopod2html

This perl script uses C<Pod::Html> to generate HTML from a F<.pod> file.
If used without the B<-f> flag, it will create a directory
F<manochrome_build> with the structure

=encoding UTF-8

	manochrome_build
	+-- css
	|   \-- manochrome_dark.css
	+-- index.html
	\-- js
	    \-- manochrome.js

where <theme> is the theme chosen with the B<-t> flag and
<output.html> is the output file name chosen with B<-o>.

=head3 OPTIONS

=over 4

=item B<-t> <theme>

Pass the name of a theme.

=item B<-i> <input_file>

Pass the input file.

If this flag is ommitted, read from STDIN.

=item B<-o> <output_file>

Pass the output file.

=item B<-f>

Build a single file with css and javascript included.

=back

=head1 EXAMPLES

=head2 Build from POD

Build C<index.html> from C<Readme.pod> in the repository
L<https://github.com/medecaj/manochrome.git>

  manopod2html -i Readme.pod -o index.html -t dark -f

=head2 Build from MAN

The tool L<rman(1)> can create F<.pod> files from man pages.
We use it in combination with manopod2html:

  man man | rman -f POD | \
  manopod2html -o man.html -t dark -f

=head2 manochrome options

Add this script to the bottom of your html before the closing body tag to
initialize C<MANochrome_pod> with options.

  <script>
    () => {
      'use strict';
    
      const options = {
        /*
         * Add a logo to top of the sidebar.
         */
        "logo_path": "img/logo.png",
        /*
         * Add links to the "LINKS" section at the bottom of the sidebar.
         * The "LINKS" section will only be created if this option is passed.
         */
        "links": [
          {
            "url": "https://github.com/medecaj/manochrome.git",
            "html": "<img src=\"img/github-mark-white.svg\"> Repo"
          },
          {
            "url": "https://perl.org",
            "html": "perl.org"
          },
          {
            "url": "https://perlmonks.org",
            "html": "perlmonks.org"
          }
        ]
      };
    
      const manochrome = (MANochrome.has_index_id()) ? 
        new MANochrome_pod(options) : false;
    
    })();
  </script>

=head1 INSTALLATION

Just type

  make

to install and

  make uninstall

to uninstall.

=head1 FILES

=over 4

=item F</usr/local/bin/manopod2html>

=item F</usr/local/share/man/man1/manochrome.1>

=item F</usr/local/share/man/man1/manopod2html.1>

=item F</usr/local/share/manochrome/js/manochrome.js>

=item F</usr/local/share/manochrome/js/init.js>

=item F</usr/local/share/manochrome/css/manochrome_dark.css>

=item F</usr/local/share/manochrome/css/manochrome_light.css>

=item F</usr/local/share/manochrome/css/manochrome_monk.css>

=back

=head1 SEE ALSO

L<man(1)>,
L<pod2html(1)>,
L<rman(1)>,
L<pod2man(1)>,
L<groff(1)>

=head1 AUTHORS

L<Albert Mendes|mailto:medecaj@pm.me>
L<https://github.com/medecaj>

=head1 COPYRIGHT

S<I<Copyright © 2024 Albert Mendes>>

MANochrome is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

=cut
